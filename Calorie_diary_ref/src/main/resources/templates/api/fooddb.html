<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/fooddb.css">
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@200;300&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/07f7c184df.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:100,300,400,500,700,900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/07f7c184df.js" crossorigin="anonymous"></script>
    <title>CalorieDiary</title>
</head>
<body>
<nav class="navbar">

    <div class="navbar__logo">
        <i class="fa-solid fa-c"></i><i class="fa-solid fa-d"></i>
        <a href="/index/call">CalorieDiary</a>
    </div>

    <div class="navbar__menu">
        <li><a href="/index/call">홈</a></li>
        <li><a href="/profile/modify">프로필</a></li>
        <li><a href="/camera">칼로리 카메라</a></li>
        <li><a href="/diary">칼로리 다이어리</a></li>
        <li><a href="/board/list">게시판</a></li>
        <li><a href="/api">음식 데이터</a></li>
        <li><a href="/member/logout">로그아웃</a></li>
    </div>

    <ul class="navbar__icons"></ul>

    <a href="#" class="navbar__toggleBtn">
        <i class="fa-solid fa-bars"></i>
    </a>
</nav>

<div class="col-md-4 offset-md-4 mt-4 border border-success pt-3">
    <form action="/api/foodData" method="post">
        <div class="input-group mb-3">
            <input type="text" name="food_name" class="form-control" placeholder="음식 검색" aria-label="Recipient's username">
            <div class="input-group-append">
                <button type="submit" class="input-group-text"><i class="fa fa-search"></i></button>
            </div>
        </div>
    </form>
</div>

<div class="table-responsive">
<table class="table table-bordered">
    <thead>
    <tr>
        <th scope="col" >순서</th>
        <th scope="col">음식이름</th>
        <th scope="col">제조사</th>
        <th scope="col">제공량</th>
        <th scope="col">열량(kcal)</th>
        <th scope="col">탄수화물</th>
        <th scope="col">단백질</th>
        <th scope="col">지방</th>
        <th scope="col">당</th>
        <th scope="col">나트륨</th>
        <th scope="col">콜레스테롤</th>
        <th scope="col">포화지방</th>
        <th scope="col">트랜스지방</th>
        <th scope="col">다이어리 추가</th>
    </tr>
    </thead>
    <tbody>
    <th:block th:each="item : ${dataList}">
        <form action="/diary/save" method="post">
            <tr>
                <th th:text="${item.num}" scope="row" >1</th>
                <td th:text="${item.food_name}">라면</td>
                <td th:text="${item.maker_name}">농심</td>
                <td th:text="${item.serving_size}">30g</td>
                <td th:text="${item.kcal}">123kcal</td>
                <td th:text="${item.carbohydrate}">123</td>
                <td th:text="${item.protein}">123</td>
                <td th:text="${item.fat}">123</td>
                <td th:text="${item.sugars}">123</td>
                <td th:text="${item.salt}">123</td>
                <td th:text="${item.cholesterol}">123</td>
                <td th:text="${item.saturated_fatty}">123</td>
                <td th:text="${item.transfat}">123</td>
                <form action="/diary/save" method="post">
                    <input type="hidden" name="food_name" th:value=${item.food_name}>
                    <input type="hidden" name="maker_name" th:value=${item.maker_name}>
                    <input type="hidden" name="serving_size" th:value=${item.serving_size}>
                    <input type="hidden" name="kcal" th:value=${item.kcal}>
                    <input type="hidden" name="carbohydrate" th:value=${item.carbohydrate}>
                    <input type="hidden" name="protein" th:value=${item.protein}>
                    <input type="hidden" name="fat" th:value=${item.fat}>
                    <input type="hidden" name="sugars" th:value=${item.sugars}>
                    <input type="hidden" name="salt" th:value=${item.salt}>
                    <input type="hidden" name="cholesterol" th:value=${item.cholesterol}>
                    <input type="hidden" name="saturated_fatty" th:value=${item.saturated_fatty}>
                    <input type="hidden" name="transfat" th:value=${item.transfat}>
                    <input type="hidden" name="memberEmail" th:value=${memberEmail}>
                    <td><button type="submit" class="btn btn-outline-success">추가하기</button></td>
                </form>

            </tr>
        </form>
    </th:block>
    </tbody>
</table>
</div>


<script src="js/main.js" defer></script>
<script src="js/bootstrap.min.js" defer></script>
</body>
</html> 